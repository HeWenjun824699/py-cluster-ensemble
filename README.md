# py-cluster-ensemble (PCE)

[![PyPI version](https://img.shields.io/badge/pypi-v0.1.0-blue)](https://pypi.org/project/py-cluster-ensemble/) [![Python](https://img.shields.io/badge/python-3.10%20%7C%203.11%20%7C%203.12-blue)](https://www.python.org/) [![License](https://img.shields.io/badge/license-MIT-green)](LICENSE)

**A Python toolkit for Cluster Ensembles generation, consensus, and visualization.** 

`py-cluster-ensemble` æ˜¯ä¸€ä¸ªæ¨¡å—åŒ–çš„ Python èšç±»é›†æˆå·¥å…·åŒ…ï¼Œæ—¨åœ¨ååŠ©ç ”ç©¶äººå‘˜ä» MATLAB è¿ç§»è‡³ Python ç¯å¢ƒã€‚å®ƒæä¾›äº†ä»åŸºèšç±»ç”Ÿæˆã€é›†æˆå…±è¯†åˆ°ç»“æœè¯„ä¼°å’Œå¯è§†åŒ–çš„å®Œæ•´æµæ°´çº¿ï¼Œå¹¶å®Œç¾å…¼å®¹ `.mat` æ•°æ®æ ¼å¼ã€‚ 

---

## ğŸ“‹ ç›®å½• (Table of Contents) 

- [å®‰è£… (Installation)](#install) 
- [å¿«é€Ÿå¼€å§‹ (Quick Start)](#quickstart)
- [æ ¸å¿ƒæ¨¡å— API (API Reference)](#api_reference) 
  - [1. è¾“å…¥è¾“å‡º (IO)](#io)    
  - [2. åŸºèšç±»ç”Ÿæˆå™¨ (Generators)](#generators) 
  - [3. é›†æˆç®—æ³• (Consensus)](#consensus) 
  - [4. è¯„ä¼°æŒ‡æ ‡ (Metrics)](#metrics) 
  - [5. æµæ°´çº¿ (Pipelines)](#pipelines) 
- [é¡¹ç›®è§„åˆ’ (Roadmap)](#roadmap) 

---

## <span id="install">ğŸ“¦ å®‰è£… (Installation)</span>

ä½¿ç”¨ pip å®‰è£… (æ¨è)
~~~
pip install py-cluster-ensemble
~~~

---

## <span id="quickstart">ğŸš€ å¿«é€Ÿå¼€å§‹ (Quick Start)</span>

### åœºæ™¯ A: ä¸€é”®æ‰¹å¤„ç† (æ¨è)

ä½¿ç”¨ consensus_batch è‡ªåŠ¨æ‰«æç›®å½•ä¸‹çš„æ‰€æœ‰ .mat æ•°æ®é›†ï¼Œç”ŸæˆåŸºèšç±»ã€è¿è¡Œé›†æˆç®—æ³•å¹¶å¯¼å‡ºcsvã€xlsxã€matæ ¼å¼çš„æ•°æ®ã€‚

~~~
from pce.pipelines import consensus_batch

# è¿è¡Œæµæ°´çº¿
consensus_batch(
    input_dir='./data',            # æ•°æ®é›†ç›®å½•
    output_dir='./results',        # ç»“æœä¿å­˜ç›®å½•
    consensus_method='cspa',       # é›†æˆç®—æ³•: 'cspa', 'mcla', 'hgpa'
    generator_method='cdkmeans',   # ç”Ÿæˆå™¨: 'cdkmeans', 'litekmeans'
    nBase=20,                      # æ¯æ¬¡é›†æˆçš„åŸºèšç±»æ•°
    nRepeat=10,                    # å®éªŒé‡å¤è½®æ•°
    save_format='csv',             # ä¿å­˜æ ¼å¼: 'xlsx', 'csv', 'mat'
    overwrite=True                 # æ˜¯å¦è¦†ç›–å·²æœ‰ç»“æœ
)

# consensus_batch ä»… input_dir ä¸ºå¿…é¡»å‚æ•°ï¼Œå…¶ä»–å‚æ•°çš„é»˜è®¤å€¼å¯åœ¨å‚æ•°è¯´æ˜ä¸­æŸ¥çœ‹
~~~

### åœºæ™¯ B: æ¨¡å—åŒ–åˆ†æ­¥è°ƒç”¨

å¦‚æœæ‚¨éœ€è¦æ›´ç»†ç²’åº¦çš„æ§åˆ¶ï¼Œå¯ä»¥ç‹¬ç«‹è°ƒç”¨å„ä¸ªæ¨¡å—ï¼š

~~~
import pce.io as io
import pce.generators as gen
import pce.consensus as con
import pce.metrics as met

# 1. åŠ è½½æ•°æ® (è‡ªåŠ¨å¤„ç† .mat æ ¼å¼)
X, Y = io.load_mat_X_Y('data/isolet.mat')

# 2. ç”ŸæˆåŸºèšç±» (ä½¿ç”¨ CDK-Means)
BPs, _ = gen.cdkmeans(X, Y, nBase=200)

# 3. æ‰§è¡Œé›†æˆ (ä½¿ç”¨ CSPA)
# å°† 200 ä¸ªåŸºèšç±»åˆ‡åˆ†ä¸º 10 ç»„ï¼Œæ¯ç»„ 20 ä¸ªè¿›è¡Œå®éªŒ
labels_list, _ = con.cspa(BPs, Y, nBase=20, nRepeat=10)

# 4. è¯„ä¼°ç»“æœ
results = met.evaluation_batch(labels_list, Y)

# 5. ä¿å­˜ç»“æœä¸º Excel (ä¿ç•™ 4 ä½å°æ•°æ ¼å¼)
io.save_xlsx(results, 'output/isolet_report.xlsx')
~~~

### åœºæ™¯ C: è¶…å‚æ•°ç½‘æ ¼æœç´¢(Grid Search)

é’ˆå¯¹ç§‘ç ”å®éªŒè®¾è®¡çš„ç½‘æ ¼æœç´¢æ¨¡å—ï¼Œæ”¯æŒå¯¹é›†æˆç®—æ³•å’ŒåŸºèšç±»ç”Ÿæˆå™¨è¿›è¡Œå‚æ•°æ‰«æã€‚<br>
`GridSearcher` ä¼šè‡ªåŠ¨è®¡ç®—å‚æ•°çš„ç¬›å¡å°”ç§¯ç»„åˆï¼Œå¹¶æ™ºèƒ½è·³è¿‡æ— æ•ˆçš„å‚æ•°é…ç½®ã€‚

~~~
import pce

# 1. å‡†å¤‡è·¯å¾„
input_dir = './data'
output_dir = './grid_results'

# 2. å®šä¹‰ç½‘æ ¼å‚æ•° (param_grid)
# å­—å…¸ä¸­çš„ value å¿…é¡»æ˜¯åˆ—è¡¨ï¼Œç¨‹åºä¼šè‡ªåŠ¨ç”Ÿæˆæ‰€æœ‰ç»„åˆ
param_grid = {
    'consensus_method': ['cspa', 'mcla'],   # åŒæ—¶å¯¹æ¯”å¤šç§é›†æˆç®—æ³•
    't': [20, 50, 100],                     # æ¢ç©¶è¶…å‚æ•° t çš„å½±å“
    'k': [5, 10, 15]                        # æ¢ç©¶è¶…å‚æ•° k çš„å½±å“
}

# 3. å®šä¹‰å›ºå®šå‚æ•° (fixed_params)
# æ‰€æœ‰å®éªŒå…±ç”¨çš„é™æ€å‚æ•°
fixed_params = {
    'generator_method': 'cdkmeans',
    'nBase': 20,        # generators, consensus
    'seed': 2024,       # generators, consensus
    'maxiter': 100,     # generators
    'replicates': 1,    # generators
    'nRepeat': 10       # consensus
}

# 4. åˆå§‹åŒ–å¹¶è¿è¡Œ
# ç»“æœå°†ç”Ÿæˆæ±‡æ€» CSV è¡¨æ ¼åŠè¯¦ç»†çš„ JSON/Log æ–‡ä»¶
searcher = pce.grid.GridSearcher(input_dir, output_dir)
searcher.run(param_grid, fixed_params)

# å°è´´å£«: ä¸ç¡®å®šæŸä¸ªç®—æ³•æ”¯æŒå“ªäº›å‚æ•°ï¼Ÿ
# ä½¿ç”¨å·¥å…·å‡½æ•°æŸ¥çœ‹å‚æ•°åˆ—è¡¨:
# pce.utils.show_function_params('cspa', module_type='consensus')
~~~

---


## <span id="api_reference">ğŸ“š æ ¸å¿ƒæ¨¡å— API (API Reference)</span>

## <span id="io">ğŸ“‚ 1. è¾“å…¥è¾“å‡º (pce.io)</span>

<details>
<summary><strong>ğŸ”½ ç‚¹å‡»æŸ¥çœ‹è¯¦ç»†å‚æ•°åˆ—è¡¨ (Click to expand)</strong></summary>

### 1.1 load_mat_X_Y å‚æ•°å’Œè¿”å›å€¼è¯´æ˜

#### 1.1.1 å‚æ•° (Parameters)

| å‚æ•°å | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| :--- | :--- | :--- | :--- |
| **`file_path`** | **`Union[str, Path]`** | **å¿…å¡«** | **è¾“å…¥ .mat æ–‡ä»¶çš„è·¯å¾„**<br>æ”¯æŒå­—ç¬¦ä¸²æˆ– `pathlib.Path` å¯¹è±¡ï¼Œä»£ç ä¼šè‡ªåŠ¨è¯†åˆ«å¹¶å¤„ç†æ ‡å‡† MATLAB æ ¼å¼ä»¥åŠ v7.3 (HDF5) æ ¼å¼ |
| `ensure_x_float` | `bool` | `True` | **å¼ºåˆ¶è½¬æ¢ç‰¹å¾çŸ©é˜µä¸ºæµ®ç‚¹æ•°**<br>å¦‚æœä¸º `True`ï¼Œä¼šå°†è¯»å–åˆ°çš„ç‰¹å¾çŸ©é˜µ `X` è½¬æ¢ä¸º `np.float64` ç±»å‹ï¼Œè¿™å¯¹å¤§å¤šæ•°èšç±»ç®—æ³•ï¼ˆå¦‚ K-Meansï¼‰çš„æ•°å€¼è®¡ç®—ç¨³å®šæ€§è‡³å…³é‡è¦ |
| `flatten_y` | `bool` | `True` | **å±•å¹³æ ‡ç­¾å‘é‡**<br>å¦‚æœä¸º `True`ï¼Œä¼šå°†è¯»å–åˆ°çš„æ ‡ç­¾ `Y` ä»äºŒç»´åˆ—å‘é‡ `(n_samples, 1)` å±•å¹³ä¸ºä¸€ç»´æ•°ç»„ `(n_samples,)`ï¼Œç¬¦åˆ Scikit-learn ç­‰ Python æœºå™¨å­¦ä¹ åº“çš„æ ‡å‡†è¾“å…¥æ ¼å¼ |

#### 1.1.2 è¿”å›å€¼ (Returns)

| å˜é‡å | ç±»å‹ | è¯´æ˜ |
| :--- | :--- | :--- |
| **`X`** | `np.ndarray` | **ç‰¹å¾çŸ©é˜µ**<br>å½¢çŠ¶ä¸º `(n_samples, n_features)`<br>ä»£ç ä¼šè‡ªåŠ¨å°è¯•åŒ¹é…å¸¸è§çš„å˜é‡åï¼ˆå¦‚ `'X'`, `'data'`, `'fea'`, `'features'` ç­‰ï¼‰ |
| **`Y`** | `np.ndarray` | **æ ‡ç­¾å‘é‡**<br>å½¢çŠ¶é€šå¸¸ä¸º `(n_samples,)`<br>ä»£ç ä¼šè‡ªåŠ¨å°è¯•åŒ¹é…å¸¸è§çš„å˜é‡åï¼ˆå¦‚ `'Y'`, `'label'`, `'gnd'` ç­‰ï¼‰ï¼Œä¸”ä¼šè‡ªåŠ¨å°†æµ®ç‚¹å‹æ•´æ•°æ ‡ç­¾å®‰å…¨è½¬æ¢ä¸º `np.int64` ç±»å‹ |

### 1.2 load_mat_BPs_Y å‚æ•°å’Œè¿”å›å€¼è¯´æ˜

#### 1.2.1 å‚æ•° (Parameters)

| å‚æ•°å | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| :--- | :--- | :--- | :--- |
| **`file_path`** | **`Union[str, Path]`** | **å¿…å¡«** | **è¾“å…¥ .mat æ–‡ä»¶çš„è·¯å¾„**<br>åŒä¸Šï¼Œæ”¯æŒè‡ªåŠ¨ç‰ˆæœ¬è¯†åˆ« |
| `fix_matlab_index` | `bool` | `True` | **ä¿®æ­£ MATLAB ç´¢å¼•**<br>å¦‚æœä¸º `True` ä¸”æ£€æµ‹åˆ° `BPs` ä¸­çš„æœ€å°å€¼ä¸º 1ï¼Œå‡½æ•°ä¼šè‡ªåŠ¨å°†æ‰€æœ‰å€¼å‡ 1ï¼Œä»è€Œå°† MATLAB çš„ 1-based ç´¢å¼•è½¬æ¢ä¸º Python çš„ 0-based ç´¢å¼• |
| `flatten_y` | `bool` | `True` | **å±•å¹³æ ‡ç­¾å‘é‡**<br>åŒä¸Šï¼Œå°†æ ‡ç­¾è½¬ä¸ºä¸€ç»´æ•°ç»„ |

#### 1.2.2 è¿”å›å€¼ (Returns)

| å˜é‡å | ç±»å‹ | è¯´æ˜ |
| :--- | :--- | :--- |
| **`BPs`** | `np.ndarray` | **åŸºèšç±»çŸ©é˜µ**<br>å½¢çŠ¶ä¸º `(n_samples, n_estimators)`<br>æ•°æ®ä¼šè¢«å¼ºåˆ¶è½¬æ¢ä¸º `np.int64`ï¼Œå¦‚æœè§¦å‘äº† `fix_matlab_index`ï¼Œè¿”å›çš„æ•°æ®èŒƒå›´å°†ä» 0 å¼€å§‹ |
| **`Y`** | `np.ndarray` | **æ ‡ç­¾å‘é‡**<br>å½¢çŠ¶é€šå¸¸ä¸º `(n_samples,)`<br>åŒ `load_mat_X_Y` ä¸­çš„ Y å¤„ç†é€»è¾‘ |

### 1.3 save_base_mat å‚æ•°è¯´æ˜

| å‚æ•°å | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| :--- | :--- | :--- | :--- |
| **`BPs`** | **`np.ndarray`** | **å¿…å¡«** | **åŸºèšç±»çŸ©é˜µ (Base Partitions)**<br>é€šå¸¸æ˜¯ $N \times M$ çš„çŸ©é˜µï¼ˆN=æ ·æœ¬æ•°ï¼ŒM=åŸºèšç±»å™¨æ•°é‡ï¼‰ã€‚<br>å‡½æ•°å†…éƒ¨ä¼šè‡ªåŠ¨å°†å…¶è½¬æ¢ä¸º **`float64` (double)** ç±»å‹ä»¥å…¼å®¹ MATLABï¼Œåœ¨ `.mat` æ–‡ä»¶ä¸­å˜é‡åä¸º `'BPs'`ã€‚ |
| **`Y`** | **`np.ndarray`** | **å¿…å¡«** | **çœŸå®æ ‡ç­¾ (True Labels)**<br>æ ·æœ¬çš„çœŸå®ç±»åˆ«æ ‡ç­¾ã€‚<br>å‡½æ•°å†…éƒ¨ä¼šè‡ªåŠ¨æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š<br>1. è½¬æ¢ä¸º **`float64` (double)** ç±»å‹<br>2. å¼ºåˆ¶é‡å¡‘ä¸º **$N \times 1$ çš„åˆ—å‘é‡**<br>åœ¨ `.mat` æ–‡ä»¶ä¸­å˜é‡åä¸º `'Y'`ã€‚ |
| **`output_path`** | **`str`** | **å¿…å¡«** | **è¾“å‡ºè·¯å¾„**<br>æ”¯æŒæ™ºèƒ½è¯†åˆ«ï¼š<br>**1. ç›®å½•è·¯å¾„** (ä»¥ `/` æˆ– `\` ç»“å°¾ï¼Œæˆ–å·²å­˜åœ¨çš„æ–‡ä»¶å¤¹)ï¼šæ–‡ä»¶å°†ä¿å­˜åˆ°è¯¥ç›®å½•ä¸‹ï¼Œæ–‡ä»¶åç”± `default_name` æŒ‡å®š<br>**2. æ–‡ä»¶è·¯å¾„** (å¦‚ `output/data.mat`)ï¼šç›´æ¥ä¿å­˜ä¸ºè¯¥æ–‡ä»¶ï¼Œä»£ç ä¼šè‡ªåŠ¨è¡¥å…¨ `.mat` åç¼€å¹¶åˆ›å»ºä¸å­˜åœ¨çš„çˆ¶ç›®å½• |
| `default_name` | `str` | `"base.mat"` | **é»˜è®¤æ–‡ä»¶å**<br>ä»…å½“ `output_path` è¢«åˆ¤å®šä¸ºç›®å½•æ—¶ä½¿ç”¨ |

### 1.4 save_results_csv å‚æ•°è¯´æ˜

| å‚æ•°å | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| :--- | :--- | :--- | :--- |
| **`data`** | **`List[Dict]`** | **å¿…å¡«** | **è¯„ä¼°ç»“æœæ•°æ®**<br>é€šå¸¸æ˜¯åŒ…å«å¤šè½®å®éªŒç»“æœçš„å­—å…¸åˆ—è¡¨ã€‚åˆ—è¡¨ä¸­çš„æ¯ä¸ªå­—å…¸ä»£è¡¨ä¸€è¡Œæ•°æ®ï¼Œå­—å…¸çš„ Key å°†æˆä¸º CSV çš„åˆ—å |
| **`output_path`** | **`str`** | **å¿…å¡«** | **è¾“å‡ºè·¯å¾„**<br>æ”¯æŒæ™ºèƒ½è¯†åˆ«ï¼š<br>**1. ç›®å½•è·¯å¾„** (ä»¥ `/` æˆ– `\` ç»“å°¾ï¼Œæˆ–å·²å­˜åœ¨çš„æ–‡ä»¶å¤¹)ï¼šæ–‡ä»¶å°†ä¿å­˜åˆ°è¯¥ç›®å½•ä¸‹ï¼Œæ–‡ä»¶åç”± `default_name` æŒ‡å®š<br>**2. æ–‡ä»¶è·¯å¾„** (å¦‚ `output/res.csv`)ï¼šç›´æ¥ä¿å­˜ä¸ºè¯¥æ–‡ä»¶ï¼Œä»£ç ä¼šè‡ªåŠ¨åˆ›å»ºä¸å­˜åœ¨çš„çˆ¶ç›®å½• |
| `default_name` | `str` | `"result.csv"` | **é»˜è®¤æ–‡ä»¶å**<br>ä»…å½“ `output_path` è¢«åˆ¤å®šä¸ºç›®å½•æ—¶ä½¿ç”¨ |
| `add_summary` | `bool` | `True` | **æ˜¯å¦è¿½åŠ ç»Ÿè®¡æ‘˜è¦**<br>å¦‚æœä¸º `True`ï¼Œä¼šåœ¨åŸå§‹æ•°æ®åæ’å…¥ä¸€ä¸ª**ç©ºè¡Œ**ï¼Œç„¶åè®¡ç®—å¹¶è¿½åŠ æ‰€æœ‰æ•°å€¼åˆ—çš„ **å‡å€¼ (Mean)** å’Œ **æ ‡å‡†å·® (Std)** |
| `float_format` | `str` | `"%.4f"` | **æµ®ç‚¹æ•°æ ¼å¼æ§åˆ¶**<br>æŒ‡å®šå†™å…¥ CSV æ—¶æµ®ç‚¹æ•°çš„ç²¾åº¦ã€‚é»˜è®¤ä¿ç•™ 4 ä½å°æ•° |

### 1.5 save_results_xlsx å‚æ•°è¯´æ˜

| å‚æ•°å | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| :--- | :--- | :--- | :--- |
| **`data`** | **`List[Dict]`** | **å¿…å¡«** | **è¯„ä¼°ç»“æœæ•°æ®**<br>é€šå¸¸æ˜¯åŒ…å«å¤šè½®å®éªŒç»“æœçš„å­—å…¸åˆ—è¡¨ã€‚åˆ—è¡¨ä¸­çš„æ¯ä¸ªå­—å…¸ä»£è¡¨ä¸€è¡Œæ•°æ®ï¼Œå­—å…¸çš„ Key å°†æˆä¸º Excel çš„åˆ—å |
| **`output_path`** | **`str`** | **å¿…å¡«** | **è¾“å‡ºè·¯å¾„**<br>æ”¯æŒæ™ºèƒ½è¯†åˆ«ï¼š<br>**1. ç›®å½•è·¯å¾„** (ä»¥ `/` æˆ– `\` ç»“å°¾ï¼Œæˆ–å·²å­˜åœ¨çš„æ–‡ä»¶å¤¹)ï¼šæ–‡ä»¶å°†ä¿å­˜åˆ°è¯¥ç›®å½•ä¸‹ï¼Œæ–‡ä»¶åç”± `default_name` æŒ‡å®š<br>**2. æ–‡ä»¶è·¯å¾„** (å¦‚ `output/res.xlsx`)ï¼šç›´æ¥ä¿å­˜ä¸ºè¯¥æ–‡ä»¶ã€‚ä»£ç ä¼šè‡ªåŠ¨åˆ›å»ºä¸å­˜åœ¨çš„çˆ¶ç›®å½•ï¼Œå¹¶å¼ºåˆ¶åç¼€ä¸º `.xlsx` |
| `default_name` | `str` | `"result.xlsx"` | **é»˜è®¤æ–‡ä»¶å**<br>ä»…å½“ `output_path` è¢«åˆ¤å®šä¸ºç›®å½•æ—¶ä½¿ç”¨ |
| `add_summary` | `bool` | `True` | **æ˜¯å¦è¿½åŠ ç»Ÿè®¡æ‘˜è¦**<br>å¦‚æœä¸º `True`ï¼Œä¼šåœ¨åŸå§‹æ•°æ®åæ’å…¥ä¸€ä¸ª**ç©ºè¡Œ**ï¼Œç„¶åè®¡ç®—å¹¶è¿½åŠ æ‰€æœ‰æ•°å€¼åˆ—çš„ **å‡å€¼ (Mean)** å’Œ **æ ‡å‡†å·® (Std)** |
| `excel_format` | `str` | `"0.0000"` | **Excel æ•°å€¼æ ¼å¼æ§åˆ¶**<br>æŒ‡å®š Excel å•å…ƒæ ¼çš„æ•°å­—æ˜¾ç¤ºæ ¼å¼å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ `"0.0000"` è¡¨ç¤ºæ˜¾ç¤º 4 ä½å°æ•°<br>ç›¸æ¯” CSVï¼Œæ­¤æ–¹å¼èƒ½ä¿æŒå•å…ƒæ ¼ä¸º**æ•°å€¼ç±»å‹**ï¼ˆä¾¿äºåœ¨ Excel ä¸­è¿›è¡Œæ±‚å’Œç­‰åç»­è®¡ç®—ï¼‰ï¼Œè€Œéçº¯æ–‡æœ¬ |

### 1.6 save_results_mat å‚æ•°è¯´æ˜

| å‚æ•°å | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| :--- | :--- | :--- | :--- |
| **`data`** | **`List[Dict]`** | **å¿…å¡«** | **è¯„ä¼°ç»“æœæ•°æ®**<br>é€šå¸¸æ˜¯åŒ…å«å¤šè½®å®éªŒç»“æœçš„å­—å…¸åˆ—è¡¨ã€‚å‡½æ•°ä¼šå°†å­—å…¸ä¸­çš„æ•°å€¼æå–å¹¶è½¬æ¢ä¸º NumPy çŸ©é˜µä¿å­˜åˆ° `.mat` æ–‡ä»¶å˜é‡ `result` ä¸­ |
| **`output_path**`** | **`str`** | **å¿…å¡«** | **è¾“å‡ºè·¯å¾„**<br>æ”¯æŒæ™ºèƒ½è¯†åˆ«ï¼š<br>**1. ç›®å½•è·¯å¾„** (ä»¥ `/` æˆ– `\` ç»“å°¾ï¼Œæˆ–å·²å­˜åœ¨çš„æ–‡ä»¶å¤¹)ï¼šæ–‡ä»¶å°†ä¿å­˜åˆ°è¯¥ç›®å½•ä¸‹ï¼Œæ–‡ä»¶åç”± `default_name` æŒ‡å®š<br>**2. æ–‡ä»¶è·¯å¾„** (å¦‚ `output/res.mat`)ï¼šç›´æ¥ä¿å­˜ä¸ºè¯¥æ–‡ä»¶ã€‚ä»£ç ä¼šè‡ªåŠ¨åˆ›å»ºä¸å­˜åœ¨çš„çˆ¶ç›®å½•ï¼Œå¹¶å¼ºåˆ¶åç¼€ä¸º `.mat` |
| `default_name` | `str` | `"result.mat"` | **é»˜è®¤æ–‡ä»¶å**<br>ä»…å½“ `output_path` è¢«åˆ¤å®šä¸ºç›®å½•æ—¶ä½¿ç”¨ |
| `add_summary` | `bool` | `True` | **æ˜¯å¦è¿½åŠ ç»Ÿè®¡æ‘˜è¦**<br>å¦‚æœä¸º `True`ï¼Œä¼šè®¡ç®—æ‰€æœ‰ç»“æœçš„ **å‡å€¼ (Mean)** å’Œ **æ ‡å‡†å·® (Std)**ï¼Œå¹¶åˆ†åˆ«ä»¥å˜é‡å `result_summary` å’Œ `result_summary_std` ä¿å­˜åˆ° `.mat` æ–‡ä»¶ä¸­ |

</details>

## <span id="generators">âš™ï¸ 2. åŸºèšç±»ç”Ÿæˆå™¨ (pce.generators)</span>

<details>
<summary><strong>ğŸ”½ ç‚¹å‡»æŸ¥çœ‹è¯¦ç»†å‚æ•°åˆ—è¡¨ (Click to expand)</strong></summary>

### 2.1 litekmeans å‚æ•°å’Œè¿”å›å€¼è¯´æ˜

#### 2.1.1 å‚æ•° (Parameters)

| å‚æ•°å       | ç±»å‹             | é»˜è®¤å€¼   | è¯´æ˜                                                         |
| :----------- | :--------------- | :------- | :----------------------------------------------------------- |
| **`X`**      | **`np.ndarray`** | **å¿…å¡«** | **è¾“å…¥ç‰¹å¾çŸ©é˜µ**<br>å½¢çŠ¶é€šå¸¸ä¸º `(n_samples, n_features)`, ç®—æ³•å°†åœ¨æ­¤æ•°æ®ä¸Šè¿è¡Œ KMeans |
| **`Y`**      | **`np.ndarray`** | **å¿…å¡«** | **çœŸå®æ ‡ç­¾å‘é‡**<br>å½¢çŠ¶é€šå¸¸ä¸º `(n_samples,)` æˆ– `(n_samples, 1)` <br>**ç”¨é€”ï¼š**ä»£ç å†…éƒ¨ä½¿ç”¨ len(np.unique(Y)) æ¥ç¡®å®šæ•°æ®é›†çš„çœŸå®ç±»åˆ«æ•° nClusterï¼Œè¿›è€Œè®¡ç®—éšæœº K å€¼çš„èŒƒå›´ [minCluster, maxCluster] |
| `nBase`      | `int`            | `200`    | ç”ŸæˆåŸºèšç±»ï¼ˆBase Partitionsï¼‰çš„æ•°é‡ï¼Œå³ç»“æœçŸ©é˜µçš„åˆ—æ•°        |
| `seed`       | `int`            | `2024`   | éšæœºç§å­ï¼Œç”¨äºæ§åˆ¶ K å€¼çš„éšæœºé€‰æ‹©å’Œç®—æ³•åˆå§‹åŒ–ï¼Œä¿è¯ç»“æœå¯å¤ç° |
| `maxiter`    | `int`            | `100`    | èšç±»ç®—æ³•ï¼ˆLiteKMeansï¼‰çš„æœ€å¤§è¿­ä»£æ¬¡æ•°                         |
| `replicates` | `int`            | `1`      | æ¯æ¬¡èšç±»å°è¯•è¿è¡Œçš„é‡å¤æ¬¡æ•°ï¼Œç®—æ³•ä¼šè¿”å›å…¶ä¸­ç›®æ ‡å‡½æ•°æœ€ä¼˜çš„ä¸€æ¬¡ç»“æœ |

####  2.1.2 è¿”å›å€¼ (Returns)

| å˜é‡å | ç±»å‹          | è¯´æ˜                                                                                                                     |
|:------|:-------------|:-------------------------------------------------------------------------------------------------------------------------|
| `BPs` | `np.ndarray` | **åŸºèšç±»çŸ©é˜µ (Base Partitions)**<br>å½¢çŠ¶ä¸º (n_samples, nBase)ã€‚æ¯ä¸€åˆ—ä»£è¡¨ä¸€æ¬¡ KMeans èšç±»çš„ç»“æœæ ‡ç­¾ï¼ˆæ³¨æ„ï¼šä»£ç ä¸­å·²å¯¹æ ‡ç­¾è¿›è¡Œäº† +1 å¤„ç†ï¼Œé€‚åº” MATLAB é£æ ¼ç´¢å¼•ï¼Œæˆ–ä¾¿äºåŒºåˆ†ï¼‰   |
| `Y`   | `np.ndarray` | **çœŸå®æ ‡ç­¾**<br>åŸæ ·è¿”å›ä¼ å…¥çš„ Yï¼Œä¾¿äºåç»­æµç¨‹ç›´æ¥è°ƒç”¨                                                                                             |

### 2.2 cdkmeans å‚æ•°å’Œè¿”å›å€¼è¯´æ˜ 
#### 2.2.1 å‚æ•° (Parameters)

| å‚æ•°å       | ç±»å‹             | é»˜è®¤å€¼   | è¯´æ˜                                                         |
| :----------- | :--------------- | :------- | :----------------------------------------------------------- |
| **`X`**      | **`np.ndarray`** | **å¿…å¡«** | **è¾“å…¥ç‰¹å¾çŸ©é˜µ**<br>å½¢çŠ¶é€šå¸¸ä¸º` (n_samples, n_features)`, ç®—æ³•å°†åœ¨æ­¤æ•°æ®ä¸Šè¿è¡Œ KMeans åˆå§‹åŒ–åŠ CDKM ä¼˜åŒ– |
| **`Y`**      | **`np.ndarray`** | **å¿…å¡«** | **çœŸå®æ ‡ç­¾å‘é‡**<br>å½¢çŠ¶é€šå¸¸ä¸º `(n_samples,)` æˆ– `(n_samples, 1)` <br>**ç”¨é€”ï¼š**ä»£ç å†…éƒ¨ä½¿ç”¨ len(np.unique(Y)) æ¥ç¡®å®šæ•°æ®é›†çš„çœŸå®ç±»åˆ«æ•° nClusterï¼Œè¿›è€Œè®¡ç®—éšæœº K å€¼çš„èŒƒå›´ [minCluster, maxCluster] |
| `nBase`      | `int`            | `200`    | ç”ŸæˆåŸºèšç±»ï¼ˆBase Partitionsï¼‰çš„æ•°é‡ï¼Œå³ç»“æœçŸ©é˜µçš„åˆ—æ•°        |
| `seed`       | `int`            | `2024`   | éšæœºç§å­ï¼Œç”¨äºæ§åˆ¶ K å€¼çš„éšæœºé€‰æ‹©å’Œç®—æ³•åˆå§‹åŒ–ï¼Œä¿è¯ç»“æœå¯å¤ç° |
| `maxiter`    | `int`            | `100`    | èšç±»ç®—æ³•ï¼ˆLiteKMeansï¼‰çš„æœ€å¤§è¿­ä»£æ¬¡æ•°                         |
| `replicates` | `int`            | `1`      | æ¯æ¬¡èšç±»å°è¯•è¿è¡Œçš„é‡å¤æ¬¡æ•°ï¼Œç®—æ³•ä¼šè¿”å›å…¶ä¸­ç›®æ ‡å‡½æ•°æœ€ä¼˜çš„ä¸€æ¬¡ç»“æœ |

#### 2.2.2 è¿”å›å€¼ (Returns)

| å˜é‡å | ç±»å‹          | è¯´æ˜                                                                                                                     |
|:------|:-------------|:-------------------------------------------------------------------------------------------------------------------------|
| `BPs` | `np.ndarray` | **åŸºèšç±»çŸ©é˜µ (Base Partitions)**<br>å½¢çŠ¶ä¸º (n_samples, nBase)ã€‚æ¯ä¸€åˆ—ä»£è¡¨ä¸€æ¬¡ KMeans èšç±»çš„ç»“æœæ ‡ç­¾ï¼ˆæ³¨æ„ï¼šä»£ç ä¸­å·²å¯¹æ ‡ç­¾è¿›è¡Œäº† +1 å¤„ç†ï¼Œé€‚åº” MATLAB é£æ ¼ç´¢å¼•ï¼Œæˆ–ä¾¿äºåŒºåˆ†ï¼‰   |
| `Y`   | `np.ndarray` | **çœŸå®æ ‡ç­¾**<br>åŸæ ·è¿”å›ä¼ å…¥çš„ Yï¼Œä¾¿äºåç»­æµç¨‹ç›´æ¥è°ƒç”¨                                                                                             |

### 2.3 litekmeans_old å‚æ•°è¯´æ˜

| å‚æ•°å           | ç±»å‹      | é»˜è®¤å€¼         | è¯´æ˜                                                         |
| :-------------- | :-------- |:------------| :----------------------------------------------------------- |
| **`file_path`** | **`str`** | **å¿…å¡«**     | **è¾“å…¥æ•°æ®æ–‡ä»¶çš„å®Œæ•´è·¯å¾„ï¼ˆæ”¯æŒ `.mat` æ ¼å¼ï¼Œå…¼å®¹ v7.3ï¼‰**    |
| `output_path`   | `str`     | `None`      | è¾“å‡º `.mat` æ–‡ä»¶çš„ä¿å­˜è·¯å¾„ï¼ˆåŒ…å«æ–‡ä»¶åï¼‰<br>å¦‚æœä¸º `None`ï¼Œé»˜è®¤ä¿å­˜åˆ°è¾“å…¥æ–‡ä»¶åŒç›®å½•ä¸‹ï¼Œæ–‡ä»¶åä¸º `[åŸæ–‡ä»¶å]_LKM[nBase].mat` |
| `nBase`         | `int`     | `200`       | ç”ŸæˆåŸºèšç±»ï¼ˆBase Partitionsï¼‰çš„æ•°é‡ï¼Œå³ç»“æœçŸ©é˜µçš„åˆ—æ•°        |
| `seed`          | `int`     | `2024`      | éšæœºç§å­ï¼Œç”¨äºæ§åˆ¶ K å€¼çš„éšæœºé€‰æ‹©å’Œç®—æ³•åˆå§‹åŒ–ï¼Œä¿è¯ç»“æœå¯å¤ç° |
| `maxiter`       | `int`     | `100`       | èšç±»ç®—æ³•ï¼ˆLiteKMeansï¼‰çš„æœ€å¤§è¿­ä»£æ¬¡æ•°                         |
| `replicates`    | `int`     | `1`         | æ¯æ¬¡èšç±»å°è¯•è¿è¡Œçš„é‡å¤æ¬¡æ•°ï¼Œç®—æ³•ä¼šè¿”å›å…¶ä¸­ç›®æ ‡å‡½æ•°æœ€ä¼˜çš„ä¸€æ¬¡ç»“æœ |

### 2.4 cdkmeans_old å‚æ•°è¯´æ˜

| å‚æ•°å           | ç±»å‹      | é»˜è®¤å€¼         | è¯´æ˜                                                         |
| :--------------| :-------- |:------------| :----------------------------------------------------------- |
| **`file_path`** | **`str`** | **å¿…å¡«**     | **è¾“å…¥æ•°æ®æ–‡ä»¶çš„å®Œæ•´è·¯å¾„ï¼ˆæ”¯æŒ `.mat` æ ¼å¼ï¼Œå…¼å®¹ v7.3ï¼‰**    |
| `output_path`   | `str`     | `None`      | è¾“å‡º `.mat` æ–‡ä»¶çš„ä¿å­˜è·¯å¾„ï¼ˆåŒ…å«æ–‡ä»¶åï¼‰<br>å¦‚æœä¸º `None`ï¼Œé»˜è®¤ä¿å­˜åˆ°è¾“å…¥æ–‡ä»¶åŒç›®å½•ä¸‹ï¼Œæ–‡ä»¶åä¸º `[åŸæ–‡ä»¶å]_CDKM[nBase].mat` |
| `nBase`         | `int`     | `200`       | ç”ŸæˆåŸºèšç±»ï¼ˆBase Partitionsï¼‰çš„æ•°é‡ï¼Œå³ç»“æœçŸ©é˜µçš„åˆ—æ•°        |
| `seed`          | `int`     | `2024`      | éšæœºç§å­ï¼Œç”¨äºæ§åˆ¶ K å€¼çš„éšæœºé€‰æ‹©å’Œç®—æ³•åˆå§‹åŒ–ï¼Œä¿è¯ç»“æœå¯å¤ç° |
| `maxiter`       | `int`     | `100`       | èšç±»ç®—æ³•ï¼ˆLiteKMeansï¼‰çš„æœ€å¤§è¿­ä»£æ¬¡æ•°                         |
| `replicates`    | `int`     | `1`         | æ¯æ¬¡èšç±»å°è¯•è¿è¡Œçš„é‡å¤æ¬¡æ•°ï¼Œç®—æ³•ä¼šè¿”å›å…¶ä¸­ç›®æ ‡å‡½æ•°æœ€ä¼˜çš„ä¸€æ¬¡ç»“æœ |

</details>

## <span id="consensus">ğŸ¤ 3. é›†æˆç®—æ³• (pce.consensus)</span>

<details>
<summary><strong>ğŸ”½ ç‚¹å‡»æŸ¥çœ‹è¯¦ç»†å‚æ•°åˆ—è¡¨ (Click to expand)</strong></summary>

### 3.1 cspa å‚æ•°å’Œè¿”å›å€¼è¯´æ˜

#### 3.1.1 å‚æ•° (Parameters)

| å‚æ•°å     | ç±»å‹      | é»˜è®¤å€¼         | è¯´æ˜                                                                                                                                                       |
|:----------| :-------- |:------------|:---------------------------------------------------------------------------------------------------------------------------------------------------------|
| **`BPs`** | **`np.ndarray`** | **å¿…å¡«** | **åŸºèšç±»çŸ©é˜µ (Base Partitions)**<br>å½¢çŠ¶é€šå¸¸ä¸º `(n_samples, n_total_clusterings)`<br>æ¯ä¸€åˆ—ä»£è¡¨ä¸€ä¸ªåŸºèšç±»å™¨çš„ç»“æœ, ä»£ç å†…éƒ¨ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶å¤„ç† MATLAB é£æ ¼çš„ 1-based ç´¢å¼•ï¼ˆå°†å…¶è½¬æ¢ä¸º Python çš„ 0-based ç´¢å¼•ï¼‰ |
| **`Y`**   | **`np.ndarray`** | **å¿…å¡«** | **çœŸå®æ ‡ç­¾å‘é‡**<br>å½¢çŠ¶ä¸º `(n_samples,)` æˆ– `(n_samples, 1)` <br>**ç”¨é€”ï¼š**ä»£ç å†…éƒ¨ä½¿ç”¨ `len(np.unique(Y))` æ¥ç¡®å®šæœ€ç»ˆé›†æˆèšç±»çš„ç›®æ ‡ç±»åˆ«æ•° `K(nCluster)`     |
| `nBase`   | `int`     | `20`        | **å•æ¬¡å®éªŒ**ä½¿ç”¨çš„åŸºèšç±»æ•°é‡ï¼ˆåˆ‡ç‰‡å¤§å°ï¼‰<br>ä¾‹å¦‚ï¼šæ± ä¸­å…±æœ‰ 200 ä¸ªåŸºèšç±»ï¼Œè®¾ä¸º 20 è¡¨ç¤ºæ¯æ¬¡å®éªŒåªä½¿ç”¨å…¶ä¸­ 20 ä¸ªæ¥è¿›è¡Œé›†æˆ                                                                                   |
| `nRepeat` | `int`     | `10`        | å®éªŒé‡å¤æ¬¡æ•°ï¼Œç¨‹åºä¼šè¿›è¡Œ `nRepeat` æ¬¡ç‹¬ç«‹å®éªŒï¼Œæ‰€éœ€çš„åŸºèšç±»æ€»åˆ—æ•° = `nBase` Ã— `nRepeat`                                                                                            |
| `seed`    | `int`     | `2024`      | éšæœºç§å­ï¼Œç”¨äºæ§åˆ¶ CSPA å†…éƒ¨è°±èšç±»ï¼ˆSpectral Clusteringï¼‰çš„åˆå§‹åŒ–çŠ¶æ€ï¼Œä¿è¯å¯å¤ç°æ€§                                                                                                   |

#### 3.1.2 è¿”å›å€¼ (Returns)

| å˜é‡å        | ç±»å‹               | è¯´æ˜                                                         |
| :------------ | :----------------- | :----------------------------------------------------------- |
| `labels_list` | `List[np.ndarray]` | **é¢„æµ‹æ ‡ç­¾åˆ—è¡¨**<br>åŒ…å« `nRepeat` ä¸ªå…ƒç´ çš„åˆ—è¡¨ï¼Œæ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªå½¢çŠ¶ä¸º `(n_samples,)` çš„ä¸€ç»´ NumPy æ•°ç»„ï¼Œä»£è¡¨æŸæ¬¡å®éªŒçš„ CSPA é›†æˆç»“æœ |
| `Y`           | `np.ndarray`       | **çœŸå®æ ‡ç­¾**<br>åŸæ ·è¿”å›ä¼ å…¥çš„ `Y`ï¼Œä¾¿äºåç»­æµç¨‹ç›´æ¥è°ƒç”¨     |

### 3.2 mcla å‚æ•°è¯´æ˜å’Œè¿”å›å€¼è¯´æ˜

#### 3.2.1 å‚æ•° (Parameters)

| å‚æ•°å      | ç±»å‹      | é»˜è®¤å€¼         | è¯´æ˜                                                        |
|:-----------| :-------- |:------------| :----------------------------------------------------------- |
| **`BPs`**  | **`np.ndarray`** | **å¿…å¡«** | **åŸºèšç±»çŸ©é˜µ (Base Partitions)**<br>å½¢çŠ¶é€šå¸¸ä¸º `(n_samples, n_total_clusterings)`<br>æ¯ä¸€åˆ—ä»£è¡¨ä¸€ä¸ªåŸºèšç±»å™¨çš„ç»“æœ, ä»£ç å†…éƒ¨ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶å¤„ç† MATLAB é£æ ¼çš„ 1-based ç´¢å¼•ï¼ˆå°†å…¶è½¬æ¢ä¸º Python çš„ 0-based ç´¢å¼•ï¼‰ |
| **`Y`**    | **`np.ndarray`** | **å¿…å¡«** | **çœŸå®æ ‡ç­¾å‘é‡**<br>å½¢çŠ¶ä¸º `(n_samples,)` æˆ– `(n_samples, 1)` <br>**ç”¨é€”ï¼š**ä»£ç å†…éƒ¨ä½¿ç”¨ `len(np.unique(Y))` æ¥ç¡®å®šæœ€ç»ˆé›†æˆèšç±»çš„ç›®æ ‡ç±»åˆ«æ•° `K(nCluster)` |
| `nBase`    | `int`     | `20`        | **å•æ¬¡å®éªŒ**ä½¿ç”¨çš„åŸºèšç±»æ•°é‡ï¼ˆåˆ‡ç‰‡å¤§å°ï¼‰<br>ä¾‹å¦‚ï¼šæ± ä¸­å…±æœ‰ 200 ä¸ªåŸºèšç±»ï¼Œè®¾ä¸º 20 è¡¨ç¤ºæ¯æ¬¡å®éªŒåªä½¿ç”¨å…¶ä¸­ 20 ä¸ªæ¥è¿›è¡Œé›†æˆ    |
| `nRepeat`  | `int`     | `10`        | å®éªŒé‡å¤æ¬¡æ•°ï¼Œç¨‹åºä¼šè¿›è¡Œ `nRepeat` æ¬¡ç‹¬ç«‹å®éªŒï¼Œæ‰€éœ€çš„åŸºèšç±»æ€»åˆ—æ•° = `nBase` Ã— `nRepeat`             |
| `seed`     | `int`     | `2024`      | éšæœºç§å­ï¼Œç”¨äºæ§åˆ¶ MCLA å†…éƒ¨å…ƒèšç±»ï¼ˆMeta-Clusteringï¼‰é˜¶æ®µçš„åˆå§‹åŒ–çŠ¶æ€ï¼ˆå¦‚è°±èšç±»åˆå§‹åŒ–ï¼‰ï¼Œä¿è¯å¯å¤ç°æ€§             |

#### 3.2.2 è¿”å›å€¼ (Returns)

| å˜é‡å        | ç±»å‹               | è¯´æ˜                                                         |
| :------------ | :----------------- | :----------------------------------------------------------- |
| `labels_list` | `List[np.ndarray]` | **é¢„æµ‹æ ‡ç­¾åˆ—è¡¨**<br>åŒ…å« `nRepeat` ä¸ªå…ƒç´ çš„åˆ—è¡¨ï¼Œæ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªå½¢çŠ¶ä¸º `(n_samples,)` çš„ä¸€ç»´ NumPy æ•°ç»„ï¼Œä»£è¡¨æŸæ¬¡å®éªŒçš„ MCLA é›†æˆç»“æœ |
| `Y`           | `np.ndarray`       | **çœŸå®æ ‡ç­¾**<br>åŸæ ·è¿”å›ä¼ å…¥çš„ `Y`ï¼Œä¾¿äºåç»­æµç¨‹ç›´æ¥è°ƒç”¨     |

### 3.3 hgpa å‚æ•°å’Œè¿”å›å€¼è¯´æ˜

#### 3.3.1 å‚æ•° (Parameters)

| å‚æ•°å      | ç±»å‹      | é»˜è®¤å€¼         | è¯´æ˜                                                        |
|:-----------| :-------- |:------------| :----------------------------------------------------------- |
| **`BPs`**  | **`np.ndarray`** | **å¿…å¡«** | **åŸºèšç±»çŸ©é˜µ (Base Partitions)**<br>å½¢çŠ¶é€šå¸¸ä¸º `(n_samples, n_total_clusterings)`<br>æ¯ä¸€åˆ—ä»£è¡¨ä¸€ä¸ªåŸºèšç±»å™¨çš„ç»“æœ, ä»£ç å†…éƒ¨ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶å¤„ç† MATLAB é£æ ¼çš„ 1-based ç´¢å¼•ï¼ˆå°†å…¶è½¬æ¢ä¸º Python çš„ 0-based ç´¢å¼•ï¼‰ |
| **`Y`**    | **`np.ndarray`** | **å¿…å¡«** | **çœŸå®æ ‡ç­¾å‘é‡**<br>å½¢çŠ¶ä¸º `(n_samples,)` æˆ– `(n_samples, 1)` <br>**ç”¨é€”ï¼š**ä»£ç å†…éƒ¨ä½¿ç”¨ `len(np.unique(Y))` æ¥ç¡®å®šæœ€ç»ˆé›†æˆèšç±»çš„ç›®æ ‡ç±»åˆ«æ•° `K(nCluster)` |
| `nBase`    | `int`     | `20`        | **å•æ¬¡å®éªŒ**ä½¿ç”¨çš„åŸºèšç±»æ•°é‡ï¼ˆåˆ‡ç‰‡å¤§å°ï¼‰<br>ä¾‹å¦‚ï¼šæ± ä¸­å…±æœ‰ 200 ä¸ªåŸºèšç±»ï¼Œè®¾ä¸º 20 è¡¨ç¤ºæ¯æ¬¡å®éªŒåªä½¿ç”¨å…¶ä¸­ 20 ä¸ªæ¥è¿›è¡Œé›†æˆ |
| `nRepeat`  | `int`     | `10`        | å®éªŒé‡å¤æ¬¡æ•°ï¼Œç¨‹åºä¼šè¿›è¡Œ `nRepeat` æ¬¡ç‹¬ç«‹å®éªŒï¼Œæ‰€éœ€çš„åŸºèšç±»æ€»åˆ—æ•° = `nBase` Ã— `nRepeat` |
| `seed`     | `int`     | `2024`      | éšæœºç§å­ï¼Œç”¨äºæ§åˆ¶ HGPA å†…éƒ¨è¶…å›¾åˆ†å‰²ï¼ˆHypergraph Partitioningï¼‰é˜¶æ®µçš„åˆå§‹åŒ–çŠ¶æ€ï¼Œä¿è¯å¯å¤ç°æ€§ |

#### 3.3.2 è¿”å›å€¼ (Returns)

| å˜é‡å        | ç±»å‹               | è¯´æ˜                                                         |
| :------------ | :----------------- | :----------------------------------------------------------- |
| `labels_list` | `List[np.ndarray]` | **é¢„æµ‹æ ‡ç­¾åˆ—è¡¨**<br>åŒ…å« `nRepeat` ä¸ªå…ƒç´ çš„åˆ—è¡¨ï¼Œæ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªå½¢çŠ¶ä¸º `(n_samples,)` çš„ä¸€ç»´ NumPy æ•°ç»„ï¼Œä»£è¡¨æŸæ¬¡å®éªŒçš„ HGPA é›†æˆç»“æœ |
| `Y`           | `np.ndarray`       | **çœŸå®æ ‡ç­¾**<br>åŸæ ·è¿”å›ä¼ å…¥çš„ `Y`ï¼Œä¾¿äºåç»­æµç¨‹ç›´æ¥è°ƒç”¨     |

### 3.4 cspa_old å‚æ•°è¯´æ˜

| å‚æ•°å           | ç±»å‹      | é»˜è®¤å€¼         | è¯´æ˜                                                        |
| :-------------- | :-------- |:------------| :----------------------------------------------------------- |
| **`file_path`** | **`str`** | **å¿…å¡«**     | **è¾“å…¥æ•°æ®æ–‡ä»¶çš„å®Œæ•´è·¯å¾„ï¼ˆ`.mat` æ ¼å¼ï¼‰**<br>**æ–‡ä»¶å†…å¿…é¡»åŒ…å«å˜é‡ `BPs` (åŸºèšç±»çŸ©é˜µ) å’Œ `Y` (çœŸå®æ ‡ç­¾)** |
| `output_path`   | `str`     | `None`      | è¾“å‡º `.mat` æ–‡ä»¶çš„ä¿å­˜è·¯å¾„ <br>å¦‚æœä¸º `None`ï¼Œé»˜è®¤åœ¨è¾“å…¥æ–‡ä»¶åŒçº§ç›®å½•ä¸‹æ–°å»º `CSPA_Results/[æ–‡ä»¶å]/` ä¿å­˜ç»“æœ |
| `nBase`         | `int`     | `20`        | **å•æ¬¡å®éªŒ**ä½¿ç”¨çš„åŸºèšç±»æ•°é‡ï¼ˆåˆ‡ç‰‡å¤§å°ï¼‰<br>ä¾‹å¦‚ï¼šæ± ä¸­å…±æœ‰ 200 ä¸ªåŸºèšç±»ï¼Œè®¾ä¸º 20 è¡¨ç¤ºæ¯æ¬¡å®éªŒåªä½¿ç”¨å…¶ä¸­ 20 ä¸ªæ¥è¿›è¡Œé›†æˆ |
| `nRepeat`       | `int`     | `10`        | å®éªŒé‡å¤æ¬¡æ•°ï¼Œç¨‹åºä¼šè¿›è¡Œ `nRepeat` æ¬¡ç‹¬ç«‹å®éªŒï¼Œæ‰€éœ€çš„åŸºèšç±»æ€»åˆ—æ•° = `nBase` Ã— `nRepeat` |
| `seed`          | `int`     | `2024`      | éšæœºç§å­ï¼Œç”¨äºæ§åˆ¶ CSPA å†…éƒ¨è°±èšç±»ï¼ˆSpectral Clusteringï¼‰çš„åˆå§‹åŒ–çŠ¶æ€ï¼Œä¿è¯å¯å¤ç°æ€§ |

### 3.5 mcla_old å‚æ•°è¯´æ˜

| å‚æ•°å           | ç±»å‹      | é»˜è®¤å€¼         | è¯´æ˜                                                        |
| :-------------- | :-------- |:------------| :----------------------------------------------------------- |
| **`file_path`** | **`str`** | **å¿…å¡«**     | **è¾“å…¥æ•°æ®æ–‡ä»¶çš„å®Œæ•´è·¯å¾„ï¼ˆ`.mat` æ ¼å¼ï¼‰**<br>**æ–‡ä»¶å†…å¿…é¡»åŒ…å«å˜é‡ `BPs` (åŸºèšç±»çŸ©é˜µ) å’Œ `Y` (çœŸå®æ ‡ç­¾)**  |
| `output_path`   | `str`     | `None`      | è¾“å‡º `.mat` æ–‡ä»¶çš„ä¿å­˜è·¯å¾„<br>å¦‚æœä¸º `None`ï¼Œé»˜è®¤åœ¨è¾“å…¥æ–‡ä»¶åŒçº§ç›®å½•ä¸‹æ–°å»º `MCLA_Results/[æ–‡ä»¶å]/` ä¿å­˜ç»“æœ |
| `nBase`         | `int`     | `20`        | **å•æ¬¡å®éªŒ**ä½¿ç”¨çš„åŸºèšç±»æ•°é‡ï¼ˆåˆ‡ç‰‡å¤§å°ï¼‰<br>ä¾‹å¦‚ï¼šæ± ä¸­å…±æœ‰ 200 ä¸ªåŸºèšç±»ï¼Œè®¾ä¸º 20 è¡¨ç¤ºæ¯æ¬¡å®éªŒåªä½¿ç”¨å…¶ä¸­ 20 ä¸ªæ¥è¿›è¡Œé›†æˆ    |
| `nRepeat`       | `int`     | `10`        | å®éªŒé‡å¤æ¬¡æ•°ï¼Œç¨‹åºä¼šè¿›è¡Œ `nRepeat` æ¬¡ç‹¬ç«‹å®éªŒï¼Œæ‰€éœ€çš„åŸºèšç±»æ€»åˆ—æ•° = `nBase` Ã— `nRepeat`             |
| `seed`          | `int`     | `2024`      | éšæœºç§å­ï¼Œç”¨äºæ§åˆ¶ MCLA å†…éƒ¨å…ƒèšç±»ï¼ˆMeta-Clusteringï¼‰é˜¶æ®µçš„åˆå§‹åŒ–çŠ¶æ€ï¼ˆå¦‚è°±èšç±»åˆå§‹åŒ–ï¼‰ï¼Œä¿è¯å¯å¤ç°æ€§             |

### 3.6 hgpa_old å‚æ•°è¯´æ˜

| å‚æ•°å           | ç±»å‹      | é»˜è®¤å€¼         | è¯´æ˜                                                        |
| :-------------- | :-------- |:------------| :----------------------------------------------------------- |
| **`file_path`** | **`str`** | **å¿…å¡«**     | **è¾“å…¥æ•°æ®æ–‡ä»¶çš„å®Œæ•´è·¯å¾„ï¼ˆ`.mat` æ ¼å¼ï¼‰**<br>**æ–‡ä»¶å†…å¿…é¡»åŒ…å«å˜é‡ `BPs` (åŸºèšç±»çŸ©é˜µ) å’Œ `Y` (çœŸå®æ ‡ç­¾)** |
| `output_path`   | `str`     | `None`      | è¾“å‡º `.mat` æ–‡ä»¶çš„ä¿å­˜è·¯å¾„<br>å¦‚æœä¸º `None`ï¼Œé»˜è®¤åœ¨è¾“å…¥æ–‡ä»¶åŒçº§ç›®å½•ä¸‹æ–°å»º `HGPA_Results/[æ–‡ä»¶å]/` ä¿å­˜ç»“æœ |
| `nBase`         | `int`     | `20`        | **å•æ¬¡å®éªŒ**ä½¿ç”¨çš„åŸºèšç±»æ•°é‡ï¼ˆåˆ‡ç‰‡å¤§å°ï¼‰<br>ä¾‹å¦‚ï¼šæ± ä¸­å…±æœ‰ 200 ä¸ªåŸºèšç±»ï¼Œè®¾ä¸º 20 è¡¨ç¤ºæ¯æ¬¡å®éªŒåªä½¿ç”¨å…¶ä¸­ 20 ä¸ªæ¥è¿›è¡Œé›†æˆ |
| `nRepeat`       | `int`     | `10`        | å®éªŒé‡å¤æ¬¡æ•°ï¼Œç¨‹åºä¼šè¿›è¡Œ `nRepeat` æ¬¡ç‹¬ç«‹å®éªŒï¼Œæ‰€éœ€çš„åŸºèšç±»æ€»åˆ—æ•° = `nBase` Ã— `nRepeat` |
| `seed`          | `int`     | `2024`      | éšæœºç§å­ï¼Œç”¨äºæ§åˆ¶ HGPA å†…éƒ¨è¶…å›¾åˆ†å‰²ï¼ˆHypergraph Partitioningï¼‰é˜¶æ®µçš„åˆå§‹åŒ–çŠ¶æ€ï¼Œä¿è¯å¯å¤ç°æ€§ |

</details>

## <span id="metrics">ğŸ“Š 4. è¯„ä¼°æŒ‡æ ‡ (pce.metrics)</span>

<details>
<summary><strong>ğŸ”½ ç‚¹å‡»æŸ¥çœ‹è¯¦ç»†å‚æ•°åˆ—è¡¨ (Click to expand)</strong></summary>

### 4.1 evaluation_single å‚æ•°å’Œè¿”å›å€¼è¯´æ˜

#### 4.1.1 å‚æ•° (Parameters)

| å‚æ•°å | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| :--- | :--- | :--- | ---- |
| **`y`** | **`np.ndarray`** | **å¿…å¡«** | **é¢„æµ‹æ ‡ç­¾å‘é‡**<br>èšç±»ç®—æ³•è¾“å‡ºçš„é¢„æµ‹ç»“æœï¼Œä»£ç å†…éƒ¨ä¼šè‡ªåŠ¨å±•å¹³ä¸ºä¸€ç»´æ•°ç»„ |
| **`Y`** | **`np.ndarray`** | **å¿…å¡«** | **çœŸå®æ ‡ç­¾å‘é‡**<br>æ•°æ®é›†çš„çœŸå®æ ‡ç­¾ (Ground Truth)ï¼Œç”¨äºè¯„ä¼°èšç±»æ€§èƒ½ï¼Œä»£ç å†…éƒ¨ä¼šè‡ªåŠ¨å±•å¹³ä¸ºä¸€ç»´æ•°ç»„ |

#### 4.1.2 è¿”å›å€¼ (Returns)

| å˜é‡å | ç±»å‹ | è¯´æ˜ |
| :--- | :--- | :--- |
| **`res`** | `List[float]` | **è¯„ä¼°æŒ‡æ ‡åˆ—è¡¨**<br>åŒ…å«14ä¸ªæµ®ç‚¹æ•°çš„åˆ—è¡¨ï¼Œé¡ºåºä¾æ¬¡ä¸ºï¼š<br>`[ACC, NMI, Purity, AR, RI, MI, HI, F-Score, Precision, Recall, Entropy, SDCS, RME, Bal]` |

### 4.2 evaluation_batch å‚æ•°å’Œè¿”å›å€¼è¯´æ˜

#### 4.2.1 å‚æ•° (Parameters)

| å‚æ•°å | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| :--- | :--- | :--- | ---- |
| **`labels`** | **`List[np.ndarray]`** | **å¿…å¡«** | **é¢„æµ‹æ ‡ç­¾åˆ—è¡¨**<br>åŒ…å«å¤šä¸ªé¢„æµ‹ç»“æœçš„åˆ—è¡¨ï¼Œåˆ—è¡¨ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªå½¢çŠ¶ä¸º `(n_samples,)` çš„ä¸€ç»´æ•°ç»„ï¼ˆä¾‹å¦‚å¤šæ¬¡å®éªŒçš„èšç±»ç»“æœï¼‰ï¼Œå‡½æ•°å°†éå†æ­¤åˆ—è¡¨é€ä¸€è¯„ä¼° |
| **`Y`** | **`np.ndarray`** | **å¿…å¡«** | **çœŸå®æ ‡ç­¾å‘é‡**<br>æ•°æ®é›†çš„çœŸå®æ ‡ç­¾ (Ground Truth)ï¼Œç”¨äºè¯„ä¼°èšç±»æ€§èƒ½ï¼Œä»£ç å†…éƒ¨ä¼šè‡ªåŠ¨å±•å¹³ä¸ºä¸€ç»´æ•°ç»„ |

#### 4.2.2 è¿”å›å€¼ (Returns)

| å˜é‡å | ç±»å‹ | è¯´æ˜ |
| :--- | :--- | :--- |
| **`res_list`** | `List[Dict]` | **è¯„ä¼°ç»“æœåˆ—è¡¨**<br>åˆ—è¡¨ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªå­—å…¸ï¼Œå¯¹åº” `labels` ä¸­æ¯ä¸€æ¬¡é¢„æµ‹çš„è¯„ä¼°ç»“æœã€‚å­—å…¸åŒ…å«ä»¥ä¸‹ 14 ä¸ª Keyï¼š<br>`['ACC', 'NMI', 'Purity', 'AR', 'RI', 'MI', 'HI', 'F-Score', 'Precision', 'Recall', 'Entropy', 'SDCS', 'RME', 'Bal']` |

</details>

## <span id="pipelines">ğŸš€ 5. æµæ°´çº¿ (pce.pipelines)</span>

<details>
<summary><strong>ğŸ”½ ç‚¹å‡»æŸ¥çœ‹è¯¦ç»†å‚æ•°åˆ—è¡¨ (Click to expand)</strong></summary>

### 5.1 consensus_batch å‚æ•°è¯´æ˜

| å‚æ•°å | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| :--- | :--- | :--- | :--- |
| **`input_dir`** | `str` | **å¿…å¡«** | **è¾“å…¥æ•°æ®é›†ç›®å½•**<br>ä»£ç ä¼šè‡ªåŠ¨æ‰«æè¯¥ç›®å½•ä¸‹æ‰€æœ‰çš„ `.mat` æ–‡ä»¶è¿›è¡Œå¤„ç† |
| `output_dir` | `str` | `None` | **ç»“æœè¾“å‡ºç›®å½•**<br>å¦‚æœä¸º `None`ï¼Œé»˜è®¤ä½¿ç”¨è¾“å…¥ç›®å½•ä½œä¸ºè¾“å‡ºæ ¹ç›®å½•ï¼Œå¹¶åœ¨å…¶ä¸‹åˆ›å»ºç®—æ³•å¯¹åº”çš„å­æ–‡ä»¶å¤¹ |
| `save_format` | `str` | `"csv"` | **ç»“æœä¿å­˜æ ¼å¼**<br>æ”¯æŒ `'csv'`, `'xlsx'`, `'mat'`ã€‚éœ€è¦ç¡®ä¿ `pce.io` ä¸­å­˜åœ¨å¯¹åº”çš„ `save_` å‡½æ•° |
| `consensus_method` | `str` | `'cspa'` | **é›†æˆç®—æ³•åç§°**<br>å¯¹åº” `pce.consensus` æ¨¡å—ä¸­çš„å‡½æ•°åï¼Œå¦‚ `'cspa'`, `'mcla'`, `'hgpa'` |
| `generator_method` | `str` | `'cdkmeans'` | **ç”Ÿæˆå™¨åç§°**<br>å½“ `.mat` æ–‡ä»¶ä¸­ä»…åŒ…å«åŸå§‹ç‰¹å¾ `X` æ—¶ï¼Œä½¿ç”¨æ­¤ç®—æ³•ç”ŸæˆåŸºèšç±»ï¼Œå¦‚ `'cdkmeans'`, `'litekmeans'` |
| `nBase` | `int` | `20` | **åŸºèšç±»æ•°é‡/åˆ‡ç‰‡å¤§å°**<br>å•æ¬¡é›†æˆå®éªŒä½¿ç”¨çš„åŸºèšç±»å™¨æ•°é‡ã€‚è‹¥éœ€ç°åœºç”Ÿæˆ BPsï¼Œæ­¤å‚æ•°ä¹Ÿä½œä¸ºç”Ÿæˆå™¨çš„ç›®æ ‡åˆ—æ•° |
| `seed` | `int` | `2024` | **éšæœºç§å­**<br>ç”¨äºæ§åˆ¶åŸºèšç±»ç”Ÿæˆå’Œé›†æˆç®—æ³•å†…éƒ¨çš„éšæœºæ€§ï¼Œä¿è¯ç»“æœå¯å¤ç° |
| `maxiter` | `int` | `100` | **æœ€å¤§è¿­ä»£æ¬¡æ•°**<br>ä»…åœ¨è°ƒç”¨åŸºèšç±»ç”Ÿæˆå™¨ï¼ˆå¦‚ K-Meansï¼‰æ—¶ç”Ÿæ•ˆ |
| `replicates` | `int` | `1` | **ç”Ÿæˆå™¨é‡å¤æ¬¡æ•°**<br>ä»…åœ¨è°ƒç”¨åŸºèšç±»ç”Ÿæˆå™¨æ—¶ç”Ÿæ•ˆï¼Œè¡¨ç¤ºæ¯æ¬¡èšç±»å°è¯•çš„é‡å¤è¿è¡Œæ¬¡æ•° |
| `nRepeat` | `int` | `10` | **å®éªŒé‡å¤æ¬¡æ•°**<br>æµæ°´çº¿å°†å¾ªç¯è¿è¡Œ `nRepeat` æ¬¡ç‹¬ç«‹å®éªŒä»¥è¯„ä¼°ç®—æ³•ç¨³å®šæ€§ |
| `overwrite` | `bool` | `False` | **è¦†ç›–å¼€å…³**<br>è‹¥ä¸º `False` ä¸”æ£€æµ‹åˆ°è¾“å‡ºæ–‡ä»¶å·²å­˜åœ¨ï¼Œåˆ™è‡ªåŠ¨è·³è¿‡è¯¥æ•°æ®é›†ã€‚è‹¥ä¸º `True` åˆ™å¼ºåˆ¶è¦†ç›– |

</details>

---

## <span id="roadmap">ğŸ—º é¡¹ç›®è§„åˆ’ (Roadmap)</span>

- [x] åŸºç¡€æ¶æ„: IO, Generators, Consensus, Metrics æ¨¡å—è§£è€¦
- [x] å…¼å®¹æ€§: å®Œç¾æ”¯æŒ MATLAB .mat v7.3 åŠ 1-based ç´¢å¼•è‡ªåŠ¨ä¿®å¤
- [x] æµæ°´çº¿: consensus_batch è‡ªåŠ¨åŒ–æ‰¹å¤„ç†ä¸æ–­ç‚¹è·³è¿‡
- [x] æŠ¥è¡¨: æ”¯æŒç”Ÿæˆå¸¦æ ¼å¼çš„ Excel æŠ¥è¡¨
- [ ] å¯è§†åŒ–: å…±è¯†çŸ©é˜µ (Consensus Matrix) çƒ­åŠ›å›¾
- [ ] å‘å¸ƒ: PyPI æ­£å¼å‘å¸ƒ

---


**Paper demo:**

WEFE A Python Library for Measuring and Mitigating Bias in Word Embeddings-JMLR-2025

NUBO A Transparent Python Package for Bayesian Optimization-JSS-2025

---

## ç›®å‰æ”¯æŒçš„åŠŸèƒ½

1. io

   - [x] load_mat.pyï¼ˆåŸå§‹æ•°æ® / åŸºèšç±»ï¼‰
   - [x] save_base.pyï¼ˆä¿å­˜åŸºèšç±»ï¼‰
     - [x] save_base_mat.pyï¼ˆä¿å­˜matåŸºèšç±»ï¼‰
   - [x] save_results.pyï¼ˆä¿å­˜ç»“æœï¼‰
     - [x] save_results_csv.pyï¼ˆä¿å­˜csvç»“æœï¼‰
     - [x] save_results_xlsx.pyï¼ˆä¿å­˜xlsxç»“æœï¼‰
     - [x] save_results_mat.pyï¼ˆä¿å­˜matç»“æœï¼‰

2. åŸºèšç±»ç”Ÿæˆ(generators)

   - [x] litekmeans.pyï¼ˆlitekmeansç”ŸæˆåŸºèšç±»ï¼‰
   - [x] cdkmeans.pyï¼ˆcdkmeansç”ŸæˆåŸºèšç±»ï¼‰

3. é›†æˆç®—æ³•(consensus)

   - [x] cspa.pyï¼ˆcspaé›†æˆç®—æ³•ï¼‰
   - [x] mcla.pyï¼ˆmclaé›†æˆç®—æ³•ï¼‰
   - [x] hgpa.pyï¼ˆhgpaé›†æˆç®—æ³•ï¼‰

4. è¯„ä¼°æŒ‡æ ‡(metrics)

   - [x] evaluation_single.pyï¼ˆè¯„ä¼°å•è½®æŒ‡æ ‡ï¼‰
   - [x] evaluation_batch.pyï¼ˆè¯„ä¼°å¤šè½®æŒ‡æ ‡ï¼‰

5. æµæ°´çº¿(pipelines)

   - [x] consensus_batch.pyï¼ˆé›†æˆæµæ°´çº¿ï¼‰

6. ç½‘æ ¼æœç´¢(grid)

   - [x] grid_search.pyï¼ˆç½‘æ ¼æœç´¢ï¼‰

7. utils

   - [x] show_function_params.pyï¼ˆæ˜¾ç¤ºå‡½æ•°å‚æ•°ï¼‰
